BootStrap: library
From: ubuntu:18.04
%help 
This container is used to use the LRRtransfer pipeline 
For more details please see the pipeline documentation pages on the LRRprofiler website:
==========================================
https://github.com/cgottin/GeneModelTransfer/
==========================================

If you use this pipeline please cite:
=====================================

	--------------------------------------
Initial works
A New Comprehensive Annotation of Leucine-Rich Repeat-Containing Receptors in Rice. Gottin C., Diévart A., Summo M., Droc G., Périn C., Ranwez V. and Chantret N. preprint on bioRxiv. doi: https://doi.org/10.1101/2021.01.29.428842

MMseqs2
	Steinegger, M., & Söding, J. (2017). MMseqs2 enables sensitive protein sequence searching for the analysis of massive data sets. Nature biotechnology, 35(11), 1026-1028.

exonerate
	Slater, G. S. C., & Birney, E. (2005). Automated generation of heuristics for biological sequence comparison. BMC bioinformatics, 6(1), 1-11.

BLAST+
	Camacho C., Coulouris G., Avagyan V., Ma N., Papadopoulos J., Bealer K., & Madden T.L. (2008) "BLAST+: architecture and applications." BMC Bioinformatics 10:421
	--------------------------------------

%post
	apt-get -y update
	apt-get -y install software-properties-common
	add-apt-repository universe
	apt-get -y update 
	#apt-get -y install perl
	apt-get -y install python3-pip
	pip3 install biopython
	#apt-get -y install python3-biopython
	#apt-get -y install python3-biopython-sql
	apt-get -y install gawk
	apt-get -y install wget
	apt-get -y install exonerate
	apt-get -y install ncbi-blast+
	apt-get -y install bc

	wget https://mmseqs.com/latest/mmseqs-linux-avx2.tar.gz
	tar xvfz mmseqs-linux-avx2.tar.gz

	apt-get -y install git
	git clone --single-branch --branch container https://github.com/cgottin/GeneModelTransfer.git
	cp -r /GeneModelTransfer/SCRIPT/* /SCRIPT/.
	cp -r /GeneModelTransfer/bin/* /bin/.
	chmod -r 777 /SCRIPT
	chmod -r 777 /bin
	rm -r /GeneModelTransfer/


	apt-get purge -y --auto-remove wget git

%environment
	export LG_SCRIPT="/SCRIPT"
	export LG_BIN="/bin"
	export mmseqs="/mmseqs/bin/mmseqs"
	export PATH=$PATH

%runscript
	exec bash "$@"

%labels
	Author Celine Gottin & Thibaud Vicat
	